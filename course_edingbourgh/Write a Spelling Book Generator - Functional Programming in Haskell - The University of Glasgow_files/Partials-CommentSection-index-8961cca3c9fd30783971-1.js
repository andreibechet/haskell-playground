(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Partials-CommentSection-index","DesignSystem-CoreStyles-SvgIcons-index","DesignSystem-Forms-OldForm-Select-index","Partials-CommentThread-index","Shared-Paginator-index"],{"/HrW":function(e,t,n){"use strict";n.r(t);n("zKZe");var a=n("q1tI");var r=n.n(a);n("17x9");var o=n("NfnI");var i=n("7fFR");function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))e[a]=n[a]}return e};return s.apply(this,arguments)}var l=e=>{var{currentUser:t,action:n,onSuccess:a=(()=>{}),initialCommentText:l="",mention:c}=e;return r.a.createElement("div",{className:"media media_small new-comment"},r.a.createElement(o["Avatar"],s({},t.avatar,{size:"small"})),r.a.createElement("p",{className:"media_description profile-link"},r.a.createElement("a",{href:t.profilePath},t.userName),t.publicRole&&r.a.createElement("span",{className:"a-stamp a-stamp--compact"},t.publicRole)),r.a.createElement("div",{className:"media_body"},r.a.createElement(i["default"],{id:"new_comment",initialCommentText:l,action:n,onSuccess:a,rows:3,showSubmit:true,mention:c,footerClass:"m-form__control-group",placeholder:"Add a comment... (plain text only, links will be auto-linked)"})))};t["default"]=l},"1gT/":function(e,t,n){"use strict";n.r(t);var a=n("q1tI");var r=n.n(a);n("17x9");var o=n("hncr");var i=n("xo9S");var s={notice:"admin/icon_info",alert:"alert",success:"tick"};var l=e=>{var{children:t,type:n,focus:l=true}=e;var c=Object(a["useRef"])(null);Object(a["useEffect"])(()=>{if(l)c.current.focus()},[t,n,l]);return r.a.createElement("div",{className:i["a"].wrapper,tabIndex:0,ref:c},r.a.createElement("div",{className:i["a"].message},r.a.createElement("div",{className:i["a"].iconWrapper,"aria-hidden":"true"},r.a.createElement(o["default"],{name:s[n],size:"medium",color:"black"})),r.a.createElement("p",{className:i["a"].text},t)))};t["default"]=l},CMsf:function(e,t,n){"use strict";n.d(t,"l",(function(){return a}));n.d(t,"j",(function(){return r}));n.d(t,"a",(function(){return o}));n.d(t,"k",(function(){return i}));n.d(t,"m",(function(){return s}));n.d(t,"b",(function(){return l}));n.d(t,"f",(function(){return c}));n.d(t,"h",(function(){return u}));n.d(t,"d",(function(){return d}));n.d(t,"c",(function(){return m}));n.d(t,"o",(function(){return f}));n.d(t,"n",(function(){return p}));n.d(t,"e",(function(){return v}));n.d(t,"g",(function(){return h}));n.d(t,"i",(function(){return g}));n.d(t,"p",(function(){return b}));var a=(e,t,n)=>{if(history&&history.replaceState)history.replaceState(e,t,n)};var r=(e,t,n)=>{window.history.pushState(e,t,n)};var o=(e,t)=>window.addEventListener(e,t);var i=(e,t)=>window.removeEventListener(e,t);var s=e=>window.requestAnimationFrame(e);var l=e=>window.cancelAnimationFrame(e);var c=()=>window.location.hash;var u=()=>window.location.pathname;var d=()=>Modernizr.sessionstorage;var m=e=>window.sessionStorage.getItem(e);var f=(e,t)=>window.sessionStorage.setItem(e,t);var p=e=>{var{container:t,top:n,left:a,behavior:r}=e;if("undefined"!==typeof __FL_DISABLE_IN_TEST__)return;t.scrollTo({top:n,left:a,behavior:r})};var v=e=>window.location.assign(e);var h=()=>window.location.origin;var g=(e,t)=>e.source===t.contentWindow;var b=e=>window.confirm(e)},DN2j:function(e,t,n){"use strict";n.r(t);var a=n("+Ts2");n.d(t,"AccreditationIcon",(function(){return a["default"]}));var r=n("h9QO");n.d(t,"AlertIcon",(function(){return r["default"]}));var o=n("+SFp");n.d(t,"ArrowIcon",(function(){return o["default"]}));var i=n("OUE5");n.d(t,"ArrowRight",(function(){return i["default"]}));var s=n("/ukQ");n.d(t,"ArrowLeft",(function(){return s["default"]}));var l=n("wOHQ");n.d(t,"AwardsIcon",(function(){return l["default"]}));var c=n("2OYJ");n.d(t,"BookmarkIcon",(function(){return c["default"]}));var u=n("pcqJ");n.d(t,"BookmarkSolidIcon",(function(){return u["default"]}));var d=n("3t//");n.d(t,"CalendarIcon",(function(){return d["default"]}));var m=n("ONJe");n.d(t,"CareerAdviceIcon",(function(){return m["default"]}));var f=n("D5sO");n.d(t,"CertificatesIcon",(function(){return f["default"]}));var p=n("962y");n.d(t,"ChevronDown",(function(){return p["default"]}));var v=n("9VRk");n.d(t,"CmtIcon",(function(){return v["default"]}));var h=n("yoyd");n.d(t,"CmtCloseIcon",(function(){return h["default"]}));var g=n("+aDC");n.d(t,"CmtOpenIcon",(function(){return g["default"]}));var b=n("c1Lc");n.d(t,"CoinIcon",(function(){return b["default"]}));var C=n("eY9Y");n.d(t,"CourseIcon",(function(){return C["default"]}));var E=n("0XU0");n.d(t,"CoursesIcon",(function(){return E["default"]}));var y=n("1hcc");n.d(t,"CoursesWithFace",(function(){return y["default"]}));var I=n("oj5h");n.d(t,"CreateIcon",(function(){return I["default"]}));var S=n("P/A1");n.d(t,"CrossIcon",(function(){return S["default"]}));var w=n("U4yj");n.d(t,"DegreeIcon",(function(){return w["default"]}));var P=n("+wHV");n.d(t,"DeviceDesktopIcon",(function(){return P["default"]}));var N=n("OPWB");n.d(t,"DownloadIcon",(function(){return N["default"]}));var O=n("vMrk");n.d(t,"EditIcon",(function(){return O["default"]}));var k=n("X7CL");n.d(t,"EmailIcon",(function(){return k["default"]}));var x=n("xzY2");n.d(t,"ExtraBenefitsIcon",(function(){return x["default"]}));var R=n("uAGp");n.d(t,"FacebookIcon",(function(){return R["default"]}));var D=n("i+tK");n.d(t,"FlagIcon",(function(){return D["default"]}));var j=n("7/a5");n.d(t,"GenerateIcon",(function(){return j["default"]}));var F=n("ndG4");n.d(t,"Globe",(function(){return F["default"]}));var T=n("xi1j");n.d(t,"HomeIcon",(function(){return T["default"]}));var H=n("aBM4");n.d(t,"HourglassIcon",(function(){return H["default"]}));var M=n("drSY");n.d(t,"HoursPerWeekIcon",(function(){return M["default"]}));var _=n("baNe");n.d(t,"IDCardIcon",(function(){return _["default"]}));var L=n("p0lk");n.d(t,"Import",(function(){return L["default"]}));var A=n("zhSc");n.d(t,"InfoIcon",(function(){return A["default"]}));var B=n("LWPr");n.d(t,"InfoWithoutCircleIcon",(function(){return B["default"]}));var U=n("59ZV");n.d(t,"KeepLearningIcon",(function(){return U["default"]}));var q=n("F2Y2");n.d(t,"LearningManagerIcon",(function(){return q["default"]}));var J=n("CVey");n.d(t,"LevelIcon",(function(){return J["default"]}));var W=n("l/4T");n.d(t,"LikeIcon",(function(){return W["default"]}));var z=n("skn9");n.d(t,"LikeSolidIcon",(function(){return z["default"]}));var Y=n("CLIO");n.d(t,"LinkedinIcon",(function(){return Y["default"]}));var G=n("QRSo");n.d(t,"LinkIcon",(function(){return G["default"]}));var K=n("CdTH");n.d(t,"More",(function(){return K["default"]}));var Z=n("kpdE");n.d(t,"NotificationsIcon",(function(){return Z["default"]}));var Q=n("xOYw");n.d(t,"PinFilledIcon",(function(){return Q["default"]}));var V=n("M1GA");n.d(t,"PinIcon",(function(){return V["default"]}));var X=n("9ji3");n.d(t,"PhotoIcon",(function(){return X["default"]}));var $=n("zDxn");n.d(t,"Plus",(function(){return $["default"]}));var ee=n("Xe5m");n.d(t,"PremiumIcon",(function(){return ee["default"]}));var te=n("tAGU");n.d(t,"Preview",(function(){return te["default"]}));var ne=n("ld2v");n.d(t,"Profile",(function(){return ne["default"]}));var ae=n("bCIF");n.d(t,"ProfileTickedIcon",(function(){return ae["default"]}));var re=n("vavI");n.d(t,"ProgressIcon",(function(){return re["default"]}));var oe=n("jQhc");n.d(t,"PullIcon",(function(){return oe["default"]}));var ie=n("TGk9");n.d(t,"QuestionIcon",(function(){return ie["default"]}));var se=n("+z7w");n.d(t,"ReplyIcon",(function(){return se["default"]}));var le=n("TKbW");n.d(t,"RetireIcon",(function(){return le["default"]}));var ce=n("2Z8W");n.d(t,"SearchIcon",(function(){return ce["default"]}));var ue=n("gngy");n.d(t,"SentimentNegative",(function(){return ue["default"]}));var de=n("GRFM");n.d(t,"SentimentNeutral",(function(){return de["default"]}));var me=n("aPKB");n.d(t,"SentimentPositive",(function(){return me["default"]}));var fe=n("C8kL");n.d(t,"SevenDayTrialIcon",(function(){return fe["default"]}));var pe=n("ijGA");n.d(t,"SponsoredIcon",(function(){return pe["default"]}));var ve=n("fqvs");n.d(t,"StatementOfCompletionIcon",(function(){return ve["default"]}));var he=n("sCu0");n.d(t,"Star",(function(){return he["default"]}));var ge=n("cYNo");n.d(t,"StarSolid",(function(){return ge["default"]}));var be=n("pKJ/");n.d(t,"Stats",(function(){return be["default"]}));var Ce=n("n39A");n.d(t,"StepsIcon",(function(){return Ce["default"]}));var Ee=n("FqLZ");n.d(t,"TickIcon",(function(){return Ee["default"]}));var ye=n("MHRk");n.d(t,"TriangleIcon",(function(){return ye["default"]}));var Ie=n("Rsxf");n.d(t,"TodoIcon",(function(){return Ie["default"]}));var Se=n("dWSr");n.d(t,"TwitterIcon",(function(){return Se["default"]}));var we=n("Ymog");n.d(t,"UnlimitedIcon",(function(){return we["default"]}));var Pe=n("jXNF");n.d(t,"UpgradeIcon",(function(){return Pe["default"]}))},GHwS:function(e,t,n){"use strict";n.r(t);n("4mDm");n("ToJy");n("zKZe");n("5s+n");n("3bBZ");var a=n("q1tI");var r=n.n(a);n("17x9");var o=n("JMJq");var i=n("CMsf");var s=n("t20M");var l=n("/HrW");var c=n("1gT/");var u=n("DN2j");var d=n("Eqpv");var m=e=>{var{hasDismissedHint:t,onSuccess:n,action:a,method:o,commentDataSharingHint:i,originalUrl:s}=e;if(t)return null;return r.a.createElement("div",{className:"m-hint-group"},"\xa0",r.a.createElement("span",{className:"a-hint-button"},"?"),r.a.createElement("div",{className:"m-hint m-hint--floating m-hint--for-comment-data-sharing"},r.a.createElement("p",null,"We share all comments with the course team and their institution to help improve course content and for\xa0",r.a.createElement("a",{href:"/info/terms/privacy-policy#research"},"research purposes"),"."),r.a.createElement("p",null,"By posting a comment, you agree to the\xa0",r.a.createElement("a",{href:"/info/terms/code-of-conduct"},"Code of Conduct"),"."),r.a.createElement(d["default"],{remote:true,onSuccess:n,action:a,method:o},r.a.createElement("input",{type:"hidden",name:"hint_name",value:i}),r.a.createElement("input",{type:"hidden",name:"current_url",value:s}),r.a.createElement("button",{type:"submit",className:"m-hint__dismiss"},r.a.createElement(u["CrossIcon"],null)))))};var f=m;var p=n("JxUS");var v=n("mtHk");class h extends r.a.PureComponent{constructor(e){super(e);this.onChange=this.onChange.bind(this)}onChange(e){var{onFilterChange:t}=this.props;t({name:e.currentTarget.name,value:e.currentTarget.value})}render(){var{selectedSort:e,selectedFilter:t,filterOptions:n,sortOptions:a,action:o,method:i}=this.props;return r.a.createElement(v["default"],{action:o,method:i,label:"Comments filter",elementRef:e=>{this.form=e}},r.a.createElement(v["default"].Option,{label:n.label,labelFor:n.name},r.a.createElement(p["default"],{name:n.name,id:n.name,options:n.choices,selected:t,onChange:this.onChange,selectClasses:"a-input","aria-label":"select dropdown with filter options"})),r.a.createElement(v["default"].Option,{label:a.label,labelFor:a.name},r.a.createElement(p["default"],{name:a.name,id:a.name,options:a.choices,selected:e,onChange:this.onChange,selectClasses:"a-input","aria-label":"select dropdown with sort options"})),r.a.createElement(v["default"].Submit,null,r.a.createElement("button",{type:"submit",className:"a-button a-button--minion"},"Filter")))}}var g=h;var b=e=>{var{commentingDisabled:t,filtersEnabled:n,filters:a,filter:o,noComments:i}=e;var s="";if(t&&n&&"everyone"===o)s=a.placeholderMessages.disabledMessages.everyone;else if(t&&!n)s=a.placeholderMessages.disabledMessages.everyone;else if(t&&i)s=n?a.placeholderMessages.disabledMessages[o]:a.placeholderMessages.disabledMessages.everyone;else if(i)s=n?a.placeholderMessages.emptyMessages[o]:a.placeholderMessages.emptyMessages.everyone;return r.a.createElement("p",{className:"no-comments-placeholder"},s)};var C=b;var E=n("Pi26");var y=n("MFnp");var I=n("cqn2");var S=e=>{var{commentsEndpoint:t}=e;var n=Object(y["a"])();return r.a.createElement("div",{className:"a-content a-content--tight a-content--hall"},n?r.a.createElement("div",{className:"m-filter__loader"},r.a.createElement(I["default"],null)):r.a.createElement("a",{href:t,className:"a-button"},"View comments"))};var w=S;function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))e[a]=n[a]}return e};return P.apply(this,arguments)}var N=e=>{var{loading:t,authors:n,comments:a,children:o,onPin:i,pinningEnabled:s=true,collapsed:l,currentUser:c,commentsEndpoint:u,reportBase:d}=e;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(w,{commentsEndpoint:u}),!t&&a.length>0&&r.a.createElement("div",{className:"comments-content-container","aria-expanded":"false"},r.a.createElement("div",{className:"comments-content","aria-expanded":"true"},r.a.createElement("ul",{className:"m-feed"},a.map(e=>r.a.createElement(E["default"],P({collapsed:l,key:e.id,onPin:i,pinningEnabled:s,currentUser:c,authors:n,reportBase:d},e))),o))))};var O=N;function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))e[a]=n[a]}return e};return k.apply(this,arguments)}var x="filter";var R="sort";var D=3;class j extends r.a.PureComponent{constructor(e){super(e);var{hintProps:{hasDismissedHint:t},authors:n,pinnedComments:a,comments:o,filtersEnabled:i,filters:s,pagination:{currentPage:l,total:c},synchronous:u}=e;this.state={hasDismissedHint:t,authors:n,pinnedComments:a,comments:o,filter:i&&s.selectedFilter,sort:i&&s.selectedSort,currentPage:l,totalPages:c,loading:!u,sessionExpired:false};this.section=r.a.createRef();this.fetchComments=this.fetchComments.bind(this);this.updateComments=this.updateComments.bind(this);this.onFilterChange=this.onFilterChange.bind(this);this.onPageChange=this.onPageChange.bind(this);this.onCommentPostingSuccess=this.onCommentPostingSuccess.bind(this);this.onCommentHintDismiss=this.onCommentHintDismiss.bind(this);this.animateToSection=this.animateToSection.bind(this);this.onPin=this.onPin.bind(this);this.onInitialRender=this.onInitialRender.bind(this)}onInitialRender(){var{commentsEndpoint:e,loaded:t}=this.props;if(t)return;this.fetchComments(e)}onFilterChange(e){var{name:t,value:n}=e;this.setState({[t]:n},()=>{var{filters:{action:e}}=this.props;var{filter:t,sort:n}=this.state;var a="".concat(e,"?").concat(x,"=").concat(t,"&").concat(R,"=").concat(n);this.fetchComments(a,()=>Object(i["l"])(null,null,a))})}onPageChange(e){var{updateUrl:t}=this.props;this.animateToSection();this.fetchComments(e,e=>{if(t)Object(i["l"])(null,null,e)})}onPin(e){var{comment:t,isPinned:n}=e;if(n)this.setState(e=>{var{pinnedComments:n,comments:a}=e;return{pinnedComments:[t,...n],comments:a.filter(e=>e.id!==t.id)}},this.animateToSection);else this.setState(e=>{var{pinnedComments:n,comments:a}=e;return{pinnedComments:n.filter(e=>e.id!==t.id),comments:[t,...a]}},this.animateToSection)}onCommentPostingSuccess(e){var{comment:t,commentsCount:n}=e;var{onCommentPosted:a}=this.props;this.setState(e=>{var{comments:n}=e;return{comments:[t,...n]}},a(n))}onCommentHintDismiss(){this.setState({hasDismissedHint:true})}fetchComments(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};this.setState({loading:true});fetch(e,Object(o["a"])()).then(e=>e.json()).then(n=>this.updateComments(n,e,t)).catch(()=>{this.setState({loading:false,sessionExpired:true})})}animateToSection(){if(!this.section.current)return;Object(i["n"])({container:window,top:this.section.current.offsetTop,left:0,behavior:"smooth"})}updateComments(e,t,n){var{filters:{selectedFilter:a,selectedSort:r},pagination:{currentPage:o,total:i},authors:s,comments:l,pinnedComments:c}=e;this.setState({filter:a,sort:r,authors:s,comments:l,pinnedComments:c,currentPage:o,totalPages:i,loading:false},n(t))}render(){var{commentsOpen:e,pagination:{href:t},filtersEnabled:n,filters:a,actions:{post:o,mention:i,report:u},currentUser:d,header:m,headerProps:p,hintProps:v,containerClasses:h,synchronous:b,commentingDisabled:E,commentsEndpoint:y}=this.props;var{authors:I,pinnedComments:S,comments:w,hasDismissedHint:P,filter:N,sort:j,loading:F,currentPage:T,totalPages:H,sessionExpired:M}=this.state;if(M)return r.a.createElement(c["default"],{type:"notice"},"Your session has expired, please sign in again to see comments.");return e&&r.a.createElement("section",{id:"fl-comments",ref:this.section,className:h},m&&r.a.createElement(m,p,!P&&r.a.createElement(f,k({},v,{hasDismissedHint:P,onSuccess:this.onCommentHintDismiss}))),!F&&r.a.createElement(C,{commentingDisabled:E,filtersEnabled:n,filters:a,filter:N,noComments:w.length<1,sessionExpired:M}),o&&r.a.createElement(l["default"],{action:o.action,currentUser:d,placeholder:"Add a comment... (plain text only, links will be auto-linked)",onSuccess:this.onCommentPostingSuccess,mention:i,rows:3}),n&&r.a.createElement(g,{selectedFilter:N,selectedSort:j,filterOptions:a.options[x],sortOptions:a.options[R],action:a.action,method:a.method,onSuccess:this.filtersSuccess,onFilterChange:this.onFilterChange}),r.a.createElement(O,{currentUser:d,loading:false,authors:I,comments:S,onPin:this.onPin,collapsed:!b,reportBase:u}),r.a.createElement(O,{currentUser:d,loading:F,authors:I,comments:w,commentsEndpoint:y,onPin:this.onPin,pinningEnabled:S.length<D,collapsed:!b,reportBase:u},r.a.createElement(s["default"],{currentPage:T,total:H,href:"".concat(t,"?").concat(x,"=").concat(N,"&").concat(R,"=").concat(j),onPageChange:this.onPageChange})))}}j.defaultProps={updateUrl:true,loaded:true,filtersEnabled:true,hasDismissedHint:true,pinnedComments:[],onCommentPosted:()=>{}};t["default"]=j},JxUS:function(e,t,n){"use strict";n.r(t);n("zKZe");var a=n("J2m7");var r=n.n(a);var o=n("q1tI");var i=n.n(o);n("17x9");var s=e=>{var{name:t,value:n,disabled:a}=e;return i.a.createElement("option",{disabled:a,key:n+t,value:n},t)};var l=s;function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))e[a]=n[a]}return e};return c.apply(this,arguments)}var u=e=>{var{id:t,name:n,options:a=[],selectClasses:o,selected:s,onChange:u=(()=>{}),multiple:d=false,isControlled:m=true}=e;var f=r()(a,e=>e.selected)||a[0];var p=s||f&&f.value;var v=m?"value":"defaultValue";return i.a.createElement(i.a.Fragment,null,d&&i.a.createElement("input",{type:"hidden",name:n}),i.a.createElement("select",c({id:t||n,name:n},{[v]:p||""},{className:o,onChange:u,multiple:d,"data-testid":"select"}),a.map(e=>{if(e.group)return i.a.createElement("optgroup",{label:e.name,key:e.name},e.group.map(e=>i.a.createElement(l,{disabled:e.disabled,name:e.label,value:e.value,key:e.value+e.label})));return i.a.createElement(l,{disabled:e.disabled,name:e.name,value:e.value,key:e.value+e.name})})))};t["default"]=u},Pi26:function(e,t,n){"use strict";n.r(t);n("4mDm");n("+2oP");n("Rm1S");n("3bBZ");var a=n("q1tI");var r=n.n(a);n("17x9");var o=n("eOqa");var i=n("aMLo");var s=e=>{var{collapsed:t,hiddenRepliesCount:n,onToggle:a}=e;var o=1===n?"reply":"replies";var i=t?"View ".concat(n," ").concat(o):"Hide replies";if(n<1)return null;return r.a.createElement("button",{type:"submit",className:"a-link",onClick:a},i)};var l=Object(i["a"])(s);var c=n("CMsf");var u=n("fFl+");var d=e=>{var{children:t,onPin:n,authors:a,parentComment:o,replies:i,onReplyClick:s,replyAction:l,pinningEnabled:c,reportBase:d}=e;var m=e=>a[e.authorId];return r.a.createElement(u["default"],{bordered:true,pinningEnabled:c,onPin:n,author:m(o),comment:o,replyAction:l,onReplyClick:s,reportBase:d},i.length>0&&r.a.createElement("ul",{className:"m-feed"},i.map(e=>r.a.createElement(u["default"],{key:e.content.id,comment:e,onReplyClick:s,replyAction:l,author:m(e),reportBase:d}))),t)};var m=d;function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);if(t)a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}));n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)f(Object(n),true).forEach((function(t){v(e,t,n[t])}));else if(Object.getOwnPropertyDescriptors)Object.defineProperties(e,Object.getOwnPropertyDescriptors(n));else f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){if(t in e)Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true});else e[t]=n;return e}var h=1;var g=/^#comment_(\d+)$/;class b extends r.a.PureComponent{constructor(e){super(e);v(this,"onReplySuccess",e=>{var{reply:t,mute:n}=e;this.setState(e=>{var{newReplies:a,parentComment:r}=e;return{newReplies:[...a,t],parentComment:p(p({},r),{},{mute:n}),collapsed:false}})});v(this,"onReplyClick",(e,t)=>{e.preventDefault();this.setState(e=>({replyHandle:this.replyHandle(t,e),replyFormShowing:true}),()=>this.replyForm.input.current.focus())});v(this,"onToggle",e=>{e.preventDefault();this.setState(e=>{var{collapsed:t}=e;return{collapsed:!t}})});v(this,"replyHandle",(e,t)=>{var{currentUser:{handle:n}}=this.props;if(n===e||this.replyCount(t)<1)return"";return"@".concat(e," ")});v(this,"isReplyLink",(e,t)=>{var n=e.match(g);if(n){var a=Number(n[1]);var{thread:{parentComment:{replies:r}}}=this.props;var{newReplies:o}=t;var i=[...r,...o];return i.some(e=>e.content.id===a)}return false});v(this,"replyCount",e=>{var{thread:{parentComment:{replies:t}}}=this.props;var{newReplies:n}=e;var a=t.length+n.length;return a});var{thread:{parentComment:t},collapsed:n}=e;this.state={newReplies:[],parentComment:t,replyHandle:"",replyFormShowing:true,collapsed:n}}componentDidMount(){this.setState(e=>({replyFormShowing:this.replyCount(e)>0,collapsed:!this.isReplyLink(Object(c["f"])(),e)}))}render(){var{onPin:e,pinningEnabled:t,currentUser:n,authors:a,thread:{actions:i,parentComment:{replies:s}},reportBase:c}=this.props;var u=i.reply;var d=i.mention;var{collapsed:f,newReplies:p,replyFormShowing:v,replyHandle:g,parentComment:b}=this.state;var C=[...s,...p];var E=f?h:C.length;var y=C.slice(0,E);var I=C.length-h;return r.a.createElement(m,{onPin:e,pinningEnabled:t,authors:a,parentComment:b,replies:y,replyAction:u,onReplyClick:this.onReplyClick,reportBase:c},r.a.createElement(l,{collapsed:f,hiddenRepliesCount:I,onToggle:this.onToggle}),u&&v&&r.a.createElement(o["default"],{id:u.id,formRef:e=>{this.replyForm=e},action:u.action,currentUser:n,onSuccess:this.onReplySuccess,replyHandle:g,mention:d}))}}b.defaultProps={collapsed:false};t["default"]=b},aMLo:function(e,t,n){"use strict";var a=n("q1tI");var r=n.n(a);t["a"]=e=>{class t extends r.a.Component{constructor(e){super(e);this.state={clientSideRendered:false}}componentDidMount(){this.setState({clientSideRendered:true})}render(){var{clientSideRendered:t}=this.state;return t?r.a.createElement(e,this.props):null}}t.displayName="Client".concat(e.displayName||e.name);return t}},eOqa:function(e,t,n){"use strict";n.r(t);n("zKZe");var a=n("q1tI");var r=n.n(a);n("17x9");var o=n("NfnI");var i=n("7fFR");function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))e[a]=n[a]}return e};return s.apply(this,arguments)}var l=e=>{var{currentUser:{avatar:t},initialCommentText:n="",action:a,onSuccess:l=(()=>{}),replyHandle:c,formRef:u=r.a.createRef(),id:d,mention:m}=e;return r.a.createElement("div",{className:"m-postbox m-postbox--compact m-postbox--visible m-postbox--close-avatar"},r.a.createElement(o["Avatar"],s({},t,{isReply:true,size:"small"})),r.a.createElement(i["default"],{id:d,initialCommentText:n,textareaId:"".concat(d,"-input"),ref:u,handle:c,action:a,onSuccess:l,showSubmit:false,placeholder:"Add a reply...",rows:1,mention:m},r.a.createElement("label",{htmlFor:"".concat(d,"-input"),className:"is-visually-hidden"},"Your reply. 0/1200")))};t["default"]=l},mtHk:function(e,t,n){"use strict";n.r(t);n.d(t,"Option",(function(){return c}));n.d(t,"Submit",(function(){return d}));var a=n("q1tI");var r=n.n(a);var o=n("Eqpv");n("17x9");var i=e=>{var{elementRef:t,onSuccess:n=(()=>{}),label:a,children:i,action:s,method:l}=e;return r.a.createElement(o["default"],{remote:true,className:"m-options-panel",action:s,method:l,ariaLabel:a,onSuccess:n,formRef:t},i)};var s=i;var l=e=>{var{label:t,labelFor:n,children:a}=e;return r.a.createElement("div",{className:"m-options-panel__option"},r.a.createElement("label",{className:"m-options-panel__label",htmlFor:n},t,":",r.a.createElement("div",{className:"m-options-panel__select"},r.a.createElement("div",{className:"a-select-container"},a))))};var c=l;var u=e=>{var{children:t}=e;return r.a.createElement("div",{className:"m-options-panel__submit"},t)};var d=u;s.Submit=d;s.Option=c;t["default"]=s},t20M:function(e,t,n){"use strict";n.r(t);var a=n("q1tI");var r=n.n(a);n("17x9");var o=n("werx");var i=n.n(o);var s=n("TSYQ");var l=n.n(s);var c=n("DN2j");var u=n("BrJq");var d="previous";var m="next";var f=1;var p=e=>{var{direction:t,currentPage:n,total:a}=e;var o="previous"===t;var i=l()(u["a"].arrowNav,{[u["a"].arrowNavItemPrevious]:o,[u["a"].arrowNavItemNext]:!o});if(t===d&&n===f)return null;if(t===m&&a===n)return null;return r.a.createElement("span",{className:i},r.a.createElement(c["ArrowIcon"],null))};var v=p;var h=1;var g=e=>{var{currentPage:t,total:n,href:a,onPageChange:o}=e;if(n<2)return null;return r.a.createElement("nav",{className:u["a"].wrapper},r.a.createElement(i.a,{containerClassName:u["a"].listNumbers,pageClassName:u["a"].listItem,pageCount:n,forcePage:t-h,previousClassName:u["a"].hidden,nextClassName:u["a"].hidden,pageRangeDisplayed:3,marginPagesDisplayed:1,nextLabel:null,previousLabel:null,activeClassName:u["a"].selected,hrefBuilder:e=>"".concat(a,"&page=").concat(e),onPageChange:e=>{var{selected:t}=e;return o("".concat(a,"&page=").concat(t+h))},disableInitialCallback:true}),r.a.createElement(i.a,{pageLinkClassName:String(n),containerClassName:u["a"].listArrows,pageClassName:u["a"].listItem,pageCount:n,forcePage:t-h,nextLabel:r.a.createElement(v,{direction:"next",currentPage:t,total:n}),previousLabel:r.a.createElement(v,{direction:"previous",currentPage:t,total:n}),pageRangeDisplayed:0,marginPagesDisplayed:0,breakClassName:u["a"].hidden,activeClassName:u["a"].selected,hrefBuilder:e=>"".concat(a,"?page=").concat(e),onPageChange:e=>{var{selected:t}=e;return o("".concat(a,"&page=").concat(t+h))},disableInitialCallback:true}))};t["default"]=g}}]);